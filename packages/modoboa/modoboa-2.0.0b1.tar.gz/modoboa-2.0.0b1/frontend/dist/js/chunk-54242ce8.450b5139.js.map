{"version":3,"sources":["webpack:///./src/views/logs/AuditTrail.vue?5ee0","webpack:///./src/components/logs/AuditTrailList.vue?2a09","webpack:///src/components/logs/AuditTrailList.vue","webpack:///./src/components/logs/AuditTrailList.vue?9fef","webpack:///./src/components/logs/AuditTrailList.vue","webpack:///src/views/logs/AuditTrail.vue","webpack:///./src/views/logs/AuditTrail.vue?a353","webpack:///./src/views/logs/AuditTrail.vue?7b53","webpack:///./src/api/logs.js","webpack:///./src/views/logs/AuditTrail.vue?3483"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","_v","staticRenderFns","staticClass","_f","model","value","callback","$$v","search","expression","headers","logs","options","total","on","$event","scopedSlots","_u","key","fn","ref","item","getLevelColor","level","_s","data","loading","methods","fetchLogs","sortBy","length","order","sortDesc","ordering","page","page_size","itemsPerPage","watch","handler","deep","component","VCard","VChip","VDataTable","VSpacer","VTextField","VToolbar","components","AuditTrailList","VToolbarTitle","resource","getAuditTrail","params","repository","get","getMessages"],"mappings":"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","file":"js/chunk-54242ce8.450b5139.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-toolbar',{attrs:{\"flat\":\"\"}},[_c('v-toolbar-title',[_c('translate',[_vm._v(\"Audit trail\")])],1)],1),_c('audit-trail-list')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{staticClass:\"mt-6\"},[_c('v-toolbar',{attrs:{\"flat\":\"\"}},[_c('v-spacer'),_c('v-text-field',{attrs:{\"prepend-inner-icon\":\"mdi-magnify\",\"placeholder\":_vm._f(\"translate\")('Search'),\"filled\":\"\",\"outlined\":\"\",\"dense\":\"\",\"hide-details\":\"\"},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}})],1),_c('v-data-table',{staticClass:\"elevation-1\",attrs:{\"headers\":_vm.headers,\"items\":_vm.logs,\"search\":_vm.search,\"options\":_vm.options,\"server-items-length\":_vm.total},on:{\"update:options\":function($event){_vm.options=$event}},scopedSlots:_vm._u([{key:\"item.level\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-chip',{attrs:{\"color\":_vm.getLevelColor(item.level),\"text-color\":\"white\",\"small\":\"\"}},[_vm._v(\" \"+_vm._s(item.level)+\" \")])]}}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<v-card class=\"mt-6\">\n  <v-toolbar flat>\n    <v-spacer></v-spacer>\n    <v-text-field\n      v-model=\"search\"\n      prepend-inner-icon=\"mdi-magnify\"\n      :placeholder=\"'Search'|translate\"\n      filled\n      outlined\n      dense\n      hide-details\n      />\n  </v-toolbar>\n  <v-data-table\n    :headers=\"headers\"\n    :items=\"logs\"\n    :search=\"search\"\n    class=\"elevation-1\"\n    :options.sync=\"options\"\n    :server-items-length=\"total\"\n    >\n    <template v-slot:item.level=\"{ item }\">\n      <v-chip :color=\"getLevelColor(item.level)\" text-color=\"white\" small>\n        {{ item.level }}\n      </v-chip>\n    </template>\n  </v-data-table>\n</v-card>\n</template>\n\n<script>\nimport logs from '@/api/logs'\n\nexport default {\n  data () {\n    return {\n      logs: [],\n      headers: [\n        { text: this.$gettext('Date'), value: 'date_created' },\n        { text: this.$gettext('Level'), value: 'level' },\n        { text: this.$gettext('Logger'), value: 'logger' },\n        { text: this.$gettext('Message'), value: 'message' }\n      ],\n      loading: true,\n      options: {},\n      search: '',\n      total: 0\n    }\n  },\n  methods: {\n    getLevelColor (level) {\n      if (level === 'INFO') {\n        return 'primary'\n      }\n      if (level === 'WARNING') {\n        return 'orange'\n      }\n      if (level === 'CRITICAL' || level === 'ERROR') {\n        return 'red'\n      }\n      return ''\n    },\n    fetchLogs () {\n      let order\n      if (this.options.sortBy.length) {\n        order = (this.options.sortDesc[0] ? '-' : '') + this.options.sortBy[0]\n      }\n      const params = {\n        ordering: order,\n        page: this.options.page,\n        page_size: this.options.itemsPerPage,\n        search: this.search\n      }\n      this.loading = true\n      logs.getAuditTrail(params).then(response => {\n        this.logs = response.data.results\n        this.total = response.data.count\n        this.loading = false\n      })\n    }\n  },\n  watch: {\n    options: {\n      handler () {\n        this.fetchLogs()\n      },\n      deep: true\n    },\n    search (val) {\n      this.fetchLogs()\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AuditTrailList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AuditTrailList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AuditTrailList.vue?vue&type=template&id=81432e9a&\"\nimport script from \"./AuditTrailList.vue?vue&type=script&lang=js&\"\nexport * from \"./AuditTrailList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VCard,VChip,VDataTable,VSpacer,VTextField,VToolbar})\n","<template>\n<div>\n  <v-toolbar flat>\n    <v-toolbar-title><translate>Audit trail</translate></v-toolbar-title>\n  </v-toolbar>\n  <audit-trail-list />\n</div>\n</template>\n\n<script>\nimport AuditTrailList from '@/components/logs/AuditTrailList.vue'\n\nexport default {\n  components: {\n    AuditTrailList\n  }\n}\n</script>\n\n<style scoped>\n.v-toolbar {\n  background-color: #f7f8fa !important;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AuditTrail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AuditTrail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AuditTrail.vue?vue&type=template&id=34cff6f8&scoped=true&\"\nimport script from \"./AuditTrail.vue?vue&type=script&lang=js&\"\nexport * from \"./AuditTrail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AuditTrail.vue?vue&type=style&index=0&id=34cff6f8&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"34cff6f8\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VToolbar,VToolbarTitle})\n","import repository from './repository'\n\nconst resource = 'logs'\n\nexport default {\n  getAuditTrail (params) {\n    return repository.get(`/${resource}/audit-trail/`, { params })\n  },\n  getMessages (params) {\n    return repository.get(`/${resource}/messages/`, { params })\n  }\n}\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AuditTrail.vue?vue&type=style&index=0&id=34cff6f8&scoped=true&lang=css&\""],"sourceRoot":""}