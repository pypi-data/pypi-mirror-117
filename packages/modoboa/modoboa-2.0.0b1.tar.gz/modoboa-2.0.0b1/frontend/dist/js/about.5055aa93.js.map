{"version":3,"sources":["webpack:///./src/views/Login.vue?5ae7","webpack:///./src/api/auth.js","webpack:///src/views/Login.vue","webpack:///./src/views/Login.vue?5da6","webpack:///./src/views/Login.vue","webpack:///../../../src/components/VCheckbox/VCheckbox.ts"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticStyle","staticClass","attrs","on","$event","type","indexOf","_k","keyCode","key","authenticate","apply","arguments","_v","ref","scopedSlots","_u","fn","errors","model","value","callback","$$v","username","expression","password","_f","rememberMe","loading","staticRenderFns","requestToken","data","repository","post","methods","component","VBtn","VCheckbox","VCol","VImg","VRow","VTextField","name","props","indeterminate","indeterminateIcon","default","offIcon","onIcon","inputIndeterminate","computed","classes","computedIcon","validationState","isDisabled","hasError","hasColor","watch","isActive","genCheckbox","checkboxAttrs","setTextColor","dense","dark","light","genInput","toString","genRipple","genDefaultSlot"],"mappings":"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","file":"js/about.5055aa93.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-row',{staticStyle:{\"height\":\"100%\",\"margin\":\"0 auto\"}},[_c('v-col',{staticClass:\"primary\",staticStyle:{\"height\":\"100%\"},attrs:{\"cols\":\"0\",\"sm\":\"6\"}},[_c('v-img',{staticClass:\"mt-10 ml-8\",attrs:{\"src\":require(\"../assets/Modoboa_RVB-BLANC-SANS.png\"),\"max-width\":\"300\"}})],1),_c('v-col',{staticClass:\"d-flex flex-column justify-center pa-10\",attrs:{\"cols\":\"12\",\"sm\":\"6\"},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.authenticate.apply(null, arguments)}}},[_c('span',{staticClass:\"primary--text mb-6 text-h4\"},[_c('translate',[_vm._v(\"Identification\")])],1),_c('validation-observer',{ref:\"observer\"},[_c('validation-provider',{attrs:{\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('label',{staticClass:\"m-label\"},[_c('translate',[_vm._v(\"Username\")])],1),_c('v-text-field',{attrs:{\"error-messages\":errors,\"outlined\":\"\"},model:{value:(_vm.username),callback:function ($$v) {_vm.username=$$v},expression:\"username\"}})]}}])}),_c('validation-provider',{attrs:{\"vid\":\"password\",\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('label',{staticClass:\"m-label\"},[_c('translate',[_vm._v(\"Password\")])],1),_c('v-text-field',{attrs:{\"type\":\"password\",\"error-messages\":errors,\"outlined\":\"\"},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}})]}}])}),_c('a',{staticClass:\"float-right primary--text\",attrs:{\"href\":\"\"}},[_c('translate',[_vm._v(\"Forgot password?\")])],1),_c('v-checkbox',{attrs:{\"label\":_vm._f(\"translate\")('Remember me')},model:{value:(_vm.rememberMe),callback:function ($$v) {_vm.rememberMe=$$v},expression:\"rememberMe\"}})],1),_c('div',{staticClass:\"d-flex justify-center\"},[_c('v-btn',{staticClass:\"flex-grow-1\",attrs:{\"color\":\"primary\",\"large\":\"\",\"loading\":_vm.loading},on:{\"click\":_vm.authenticate}},[_c('translate',[_vm._v(\"Connect\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import repository from './repository'\n\nexport default {\n  requestToken (data) {\n    return repository.post('/token/', data)\n  }\n}\n","<template>\n<v-row style=\"height: 100%; margin: 0 auto\">\n  <v-col cols=\"0\" sm=\"6\" class=\"primary\" style=\"height: 100%\">\n    <v-img\n      src=\"../assets/Modoboa_RVB-BLANC-SANS.png\"\n      max-width=\"300\"\n      class=\"mt-10 ml-8\"\n      />\n  </v-col>\n  <v-col cols=\"12\" sm=\"6\" class=\"d-flex flex-column justify-center pa-10\" @keyup.enter=\"authenticate\">\n    <span class=\"primary--text mb-6 text-h4\"><translate>Identification</translate></span>\n    <validation-observer ref=\"observer\">\n      <validation-provider\n        v-slot=\"{ errors }\"\n        rules=\"required\"\n        >\n        <label class=\"m-label\"><translate>Username</translate></label>\n        <v-text-field\n          v-model=\"username\"\n          :error-messages=\"errors\"\n          outlined\n          />\n      </validation-provider>\n      <validation-provider\n        vid=\"password\"\n        v-slot=\"{ errors }\"\n        rules=\"required\"\n        >\n        <label class=\"m-label\"><translate>Password</translate></label>\n        <v-text-field\n          type=\"password\"\n          v-model=\"password\"\n          :error-messages=\"errors\"\n          outlined\n          />\n      </validation-provider>\n      <a href=\"\" class=\"float-right primary--text\"><translate>Forgot password?</translate></a>\n      <v-checkbox\n        v-model=\"rememberMe\"\n        :label=\"'Remember me'|translate\"\n        />\n    </validation-observer>\n    <div class=\"d-flex justify-center\">\n      <v-btn\n        class=\"flex-grow-1\"\n        color=\"primary\"\n        large\n        @click=\"authenticate\"\n        :loading=\"loading\"\n        >\n        <translate>Connect</translate>\n      </v-btn>\n    </div>\n  </v-col>\n</v-row>\n</template>\n\n<script>\nimport Cookies from 'js-cookie'\nimport auth from '@/api/auth'\n\nexport default {\n  data () {\n    return {\n      loading: false,\n      rememberMe: false,\n      username: '',\n      password: '',\n      errors: {}\n    }\n  },\n  methods: {\n    async authenticate () {\n      const isValid = await this.$refs.observer.validate()\n      if (!isValid) {\n        return\n      }\n      const payload = {\n        username: this.username,\n        password: this.password\n      }\n      this.loading = true\n      auth.requestToken(payload).then(resp => {\n        Cookies.set('token', resp.data.access, { sameSite: 'strict' })\n        Cookies.set('refreshToken', resp.data.refresh, { sameSite: 'strict' })\n        this.$store.dispatch('auth/initialize').then(() => {\n          this.$router.push({ name: 'DomainList' })\n        })\n      }).catch(err => {\n        this.loading = false\n        if (err.response.status === 401) {\n          this.$refs.observer.setErrors({\n            password: this.$gettext('Invalid username and/or password')\n          })\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style>\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=48f42045&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCheckbox } from 'vuetify/lib/components/VCheckbox';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCheckbox,VCol,VImg,VRow,VTextField})\n","// Styles\nimport './VCheckbox.sass'\nimport '../../styles/components/_selection-controls.sass'\n\n// Components\nimport VIcon from '../VIcon'\nimport VInput from '../VInput'\n\n// Mixins\nimport Selectable from '../../mixins/selectable'\n\n/* @vue/component */\nexport default Selectable.extend({\n  name: 'v-checkbox',\n\n  props: {\n    indeterminate: Boolean,\n    indeterminateIcon: {\n      type: String,\n      default: '$checkboxIndeterminate',\n    },\n    offIcon: {\n      type: String,\n      default: '$checkboxOff',\n    },\n    onIcon: {\n      type: String,\n      default: '$checkboxOn',\n    },\n  },\n\n  data () {\n    return {\n      inputIndeterminate: this.indeterminate,\n    }\n  },\n\n  computed: {\n    classes (): object {\n      return {\n        ...VInput.options.computed.classes.call(this),\n        'v-input--selection-controls': true,\n        'v-input--checkbox': true,\n        'v-input--indeterminate': this.inputIndeterminate,\n      }\n    },\n    computedIcon (): string {\n      if (this.inputIndeterminate) {\n        return this.indeterminateIcon\n      } else if (this.isActive) {\n        return this.onIcon\n      } else {\n        return this.offIcon\n      }\n    },\n    // Do not return undefined if disabled,\n    // according to spec, should still show\n    // a color when disabled and active\n    validationState (): string | undefined {\n      if (this.isDisabled && !this.inputIndeterminate) return undefined\n      if (this.hasError && this.shouldValidate) return 'error'\n      if (this.hasSuccess) return 'success'\n      if (this.hasColor !== null) return this.computedColor\n      return undefined\n    },\n  },\n\n  watch: {\n    indeterminate (val) {\n      // https://github.com/vuetifyjs/vuetify/issues/8270\n      this.$nextTick(() => (this.inputIndeterminate = val))\n    },\n    inputIndeterminate (val) {\n      this.$emit('update:indeterminate', val)\n    },\n    isActive () {\n      if (!this.indeterminate) return\n      this.inputIndeterminate = false\n    },\n  },\n\n  methods: {\n    genCheckbox () {\n      const { title, ...checkboxAttrs } = this.attrs$\n      return this.$createElement('div', {\n        staticClass: 'v-input--selection-controls__input',\n      }, [\n        this.$createElement(VIcon, this.setTextColor(this.validationState, {\n          props: {\n            dense: this.dense,\n            dark: this.dark,\n            light: this.light,\n          },\n        }), this.computedIcon),\n        this.genInput('checkbox', {\n          ...checkboxAttrs,\n          'aria-checked': this.inputIndeterminate\n            ? 'mixed'\n            : this.isActive.toString(),\n        }),\n        this.genRipple(this.setTextColor(this.rippleState)),\n      ])\n    },\n    genDefaultSlot () {\n      return [\n        this.genCheckbox(),\n        this.genLabel(),\n      ]\n    },\n  },\n})\n"],"sourceRoot":""}