{"version":3,"sources":["webpack:///./src/views/logs/Messages.vue?f26f","webpack:///./src/components/logs/MessageList.vue?b248","webpack:///src/components/logs/MessageList.vue","webpack:///./src/components/logs/MessageList.vue?04bc","webpack:///./src/components/logs/MessageList.vue","webpack:///src/views/logs/Messages.vue","webpack:///./src/views/logs/Messages.vue?82d9","webpack:///./src/views/logs/Messages.vue","webpack:///./src/api/logs.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","_v","staticRenderFns","staticClass","_f","model","value","callback","$$v","search","expression","headers","messages","options","total","on","$event","scopedSlots","_u","key","fn","ref","item","_s","date","sender","data","loading","methods","fetchMessages","sortBy","length","order","sortDesc","ordering","page","page_size","itemsPerPage","logs","watch","handler","deep","component","VCard","VDataTable","VSpacer","VTextField","VToolbar","components","MessageList","VToolbarTitle","resource","getAuditTrail","params","repository","get","getMessages"],"mappings":"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","file":"js/chunk-5ab8dcb7.eed725cc.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-toolbar',{attrs:{\"flat\":\"\"}},[_c('v-toolbar-title',[_c('translate',[_vm._v(\"Message history\")])],1)],1),_c('message-list')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{staticClass:\"mt-6\"},[_c('v-toolbar',{attrs:{\"flat\":\"\"}},[_c('v-spacer'),_c('v-text-field',{attrs:{\"prepend-inner-icon\":\"mdi-magnify\",\"placeholder\":_vm._f(\"translate\")('Search'),\"filled\":\"\",\"outlined\":\"\",\"dense\":\"\",\"hide-details\":\"\"},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}})],1),_c('v-data-table',{staticClass:\"elevation-1\",attrs:{\"headers\":_vm.headers,\"items\":_vm.messages,\"search\":_vm.search,\"options\":_vm.options,\"server-items-length\":_vm.total},on:{\"update:options\":function($event){_vm.options=$event}},scopedSlots:_vm._u([{key:\"item.date\",fn:function(ref){\nvar item = ref.item;\nreturn [_vm._v(\" \"+_vm._s(_vm._f(\"date\")(item.date))+\" \")]}},{key:\"item.sender\",fn:function(ref){\nvar item = ref.item;\nreturn [_vm._v(\" \"+_vm._s(_vm._f(\"truncate\")(item.sender,50))+\" \")]}}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<v-card class=\"mt-6\">\n  <v-toolbar flat>\n    <v-spacer></v-spacer>\n    <v-text-field\n      v-model=\"search\"\n      prepend-inner-icon=\"mdi-magnify\"\n      :placeholder=\"'Search'|translate\"\n      filled\n      outlined\n      dense\n      hide-details\n      />\n  </v-toolbar>\n  <v-data-table\n    :headers=\"headers\"\n    :items=\"messages\"\n    :search=\"search\"\n    class=\"elevation-1\"\n    :options.sync=\"options\"\n    :server-items-length=\"total\"\n    >\n    <template v-slot:item.date=\"{ item }\">\n      {{ item.date|date }}\n    </template>\n    <template v-slot:item.sender=\"{ item }\">\n      {{ item.sender|truncate(50) }}\n    </template>\n  </v-data-table>\n</v-card>\n</template>\n\n<script>\nimport logs from '@/api/logs'\n\nexport default {\n  data () {\n    return {\n      messages: [],\n      headers: [\n        { text: this.$gettext('Queue ID'), value: 'queue_id' },\n        { text: this.$gettext('Date'), value: 'date', width: '20%' },\n        { text: this.$gettext('Status'), value: 'status' },\n        { text: this.$gettext('To'), value: 'rcpt' },\n        { text: this.$gettext('From'), value: 'sender' }\n      ],\n      loading: true,\n      options: {},\n      search: '',\n      total: 0\n    }\n  },\n  methods: {\n    fetchMessages () {\n      let order\n      if (this.options.sortBy.length) {\n        order = (this.options.sortDesc[0] ? '-' : '') + this.options.sortBy[0]\n      }\n      const params = {\n        ordering: order,\n        page: this.options.page,\n        page_size: this.options.itemsPerPage,\n        search: this.search\n      }\n      this.loading = true\n      logs.getMessages(params).then(response => {\n        this.messages = response.data.results\n        this.total = response.data.count\n        this.loading = false\n      })\n    }\n  },\n  watch: {\n    options: {\n      handler () {\n        this.fetchMessages()\n      },\n      deep: true\n    },\n    search (val) {\n      this.fetchMessages()\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MessageList.vue?vue&type=template&id=3da97eac&\"\nimport script from \"./MessageList.vue?vue&type=script&lang=js&\"\nexport * from \"./MessageList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VCard,VDataTable,VSpacer,VTextField,VToolbar})\n","<template>\n<div>\n  <v-toolbar flat>\n    <v-toolbar-title><translate>Message history</translate></v-toolbar-title>\n  </v-toolbar>\n  <message-list />\n</div>\n</template>\n\n<script>\nimport MessageList from '@/components/logs/MessageList'\n\nexport default {\n  components: {\n    MessageList\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Messages.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Messages.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Messages.vue?vue&type=template&id=2b83fc20&\"\nimport script from \"./Messages.vue?vue&type=script&lang=js&\"\nexport * from \"./Messages.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VToolbar,VToolbarTitle})\n","import repository from './repository'\n\nconst resource = 'logs'\n\nexport default {\n  getAuditTrail (params) {\n    return repository.get(`/${resource}/audit-trail/`, { params })\n  },\n  getMessages (params) {\n    return repository.get(`/${resource}/messages/`, { params })\n  }\n}\n"],"sourceRoot":""}