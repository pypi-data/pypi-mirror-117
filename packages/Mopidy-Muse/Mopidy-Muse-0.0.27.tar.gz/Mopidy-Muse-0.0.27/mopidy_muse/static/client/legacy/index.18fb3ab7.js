import"core-js/modules/es.array.iterator.js";import"core-js/modules/es.object.to-string.js";import"core-js/modules/es.promise.js";import"core-js/modules/es.string.iterator.js";import"core-js/modules/web.dom-collections.iterator.js";import"core-js/modules/es.array.map.js";import"core-js/modules/web.url.js";import{_ as s,a as r,b as t,d as n,e,f as o,S as a,s as c,g as i,h as u,j as l,k as f,l as m,m as d,n as p,o as h,p as j,q as v,t as g,r as y,u as k,v as w,w as b,i as $,x as E,y as x,z as I,A as D,B as V,C as P,D as A,E as R,F as N,G as z,H as T,I as C,J as G,K as _,L as B,M,N as U,O as F,P as O,Q as S,R as q,T as H,U as J,V as K,W as L,X as Q,Y as W,Z as X,$ as Y,a0 as Z,a1 as ss,a2 as rs,a3 as ts,a4 as ns,a5 as es,a6 as os,a7 as as,a8 as cs,a9 as is,aa as us,ab as ls,ac as fs,ad as ms,ae as ds,af as ps,ag as hs,ah as js,ai as vs}from"./client.4760e5ea.js";import"core-js/modules/es.symbol.js";import"core-js/modules/es.symbol.description.js";import"core-js/modules/es.symbol.iterator.js";import"core-js/modules/es.symbol.async-iterator.js";import"core-js/modules/es.symbol.to-string-tag.js";import"core-js/modules/es.json.to-string-tag.js";import"core-js/modules/es.math.to-string-tag.js";import"core-js/modules/es.object.get-prototype-of.js";import"core-js/modules/es.function.name.js";import"core-js/modules/es.object.set-prototype-of.js";import"core-js/modules/web.dom-collections.for-each.js";import"core-js/modules/es.array.slice.js";import"core-js/modules/es.regexp.exec.js";import"core-js/modules/es.string.split.js";import"core-js/modules/es.string.replace.js";import"core-js/modules/es.string.starts-with.js";import"core-js/modules/es.string.search.js";import"core-js/modules/es.object.assign.js";import"core-js/modules/es.string.match.js";import"core-js/modules/es.array.filter.js";import"core-js/modules/es.regexp.to-string.js";import"core-js/modules/es.array.reduce.js";import"core-js/modules/es.reflect.construct.js";import"core-js/modules/es.object.keys.js";import"core-js/modules/es.set.js";import"core-js/modules/es.array.concat.js";import"core-js/modules/es.typed-array.int32-array.js";import"core-js/modules/es.typed-array.copy-within.js";import"core-js/modules/es.typed-array.every.js";import"core-js/modules/es.typed-array.fill.js";import"core-js/modules/es.typed-array.filter.js";import"core-js/modules/es.typed-array.find.js";import"core-js/modules/es.typed-array.find-index.js";import"core-js/modules/es.typed-array.for-each.js";import"core-js/modules/es.typed-array.includes.js";import"core-js/modules/es.typed-array.index-of.js";import"core-js/modules/es.typed-array.iterator.js";import"core-js/modules/es.typed-array.join.js";import"core-js/modules/es.typed-array.last-index-of.js";import"core-js/modules/es.typed-array.map.js";import"core-js/modules/es.typed-array.reduce.js";import"core-js/modules/es.typed-array.reduce-right.js";import"core-js/modules/es.typed-array.reverse.js";import"core-js/modules/es.typed-array.set.js";import"core-js/modules/es.typed-array.slice.js";import"core-js/modules/es.typed-array.some.js";import"core-js/modules/es.typed-array.sort.js";import"core-js/modules/es.typed-array.subarray.js";import"core-js/modules/es.typed-array.to-locale-string.js";import"core-js/modules/es.typed-array.to-string.js";import"core-js/modules/es.array.sort.js";import"core-js/modules/es.array.index-of.js";import"core-js/modules/es.object.get-own-property-descriptors.js";import"core-js/modules/es.array.from.js";import"core-js/modules/es.array.splice.js";import"core-js/modules/es.string.trim.js";import"core-js/modules/es.array.join.js";import"core-js/modules/es.string.anchor.js";import"core-js/modules/es.map.js";import"core-js/modules/es.array.fill.js";import"core-js/modules/es.parse-float.js";import"core-js/modules/es.string.pad-start.js";import"core-js/modules/es.object.values.js";import"core-js/modules/es.array.find.js";import"core-js/modules/es.object.get-own-property-descriptor.js";import"core-js/modules/es.reflect.own-keys.js";import"core-js/modules/es.parse-int.js";import{f as gs}from"./index.6c0a0a52.js";import{c as ys}from"./clickOutside.eb6c57be.js";function ks(s){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(s){return!1}}();return function(){var e,o=r(s);if(n){var a=r(this).constructor;e=Reflect.construct(o,arguments,a)}else e=o.apply(this,arguments);return t(this,e)}}function ws(s){i(s,"svelte-1iz48mk",".slider.svelte-1iz48mk{-webkit-appearance:none;width:100%;height:5px;border-radius:5px;background:#d3d3d3;outline:none;opacity:0.7;-webkit-transition:.2s;transition:opacity .2s}.slider.svelte-1iz48mk::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:25px;height:25px;border-radius:10%;background:#DA9C20;cursor:pointer}.slider.svelte-1iz48mk::-moz-range-thumb{width:25px;height:25px;border-radius:50%;background:#DA9C20;cursor:pointer}")}function bs(s,r,t){var n=s.slice();return n[21]=r[t],n[23]=t,n}function $s(s){var r,t;function n(s,r){return s[9]?xs:Es}var e=n(s),o=e(s),a=s[7].track&&Is(s);return{c:function(){r=u("div"),o.c(),t=l(),a&&a.c(),this.h()},l:function(s){r=f(s,"DIV",{class:!0});var n=m(r);o.l(n),t=d(n),a&&a.l(n),n.forEach(p),this.h()},h:function(){h(r,"class","card")},m:function(s,n){j(s,r,n),o.m(r,null),v(r,t),a&&a.m(r,null)},p:function(s,c){e===(e=n(s))&&o?o.p(s,c):(o.d(1),(o=e(s))&&(o.c(),o.m(r,t))),s[7].track?a?a.p(s,c):((a=Is(s)).c(),a.m(r,null)):a&&(a.d(1),a=null)},d:function(s){s&&p(r),o.d(),a&&a.d()}}}function Es(s){var r,t,n;return{c:function(){r=u("div"),t=u("figure"),n=u("img"),this.h()},l:function(s){r=f(s,"DIV",{class:!0});var e=m(r);t=f(e,"FIGURE",{class:!0});var o=m(t);n=f(o,"IMG",{src:!0,alt:!0,width:!0,height:!0}),o.forEach(p),e.forEach(p),this.h()},h:function(){K(n.src,"/muse/icon.svg")||h(n,"src","/muse/icon.svg"),h(n,"alt","Placeholder"),h(n,"width","240"),h(n,"height","240"),h(t,"class","image is-1by1"),h(r,"class","card-image has-text-centered")},m:function(s,e){j(s,r,e),v(r,t),v(t,n)},p:L,d:function(s){s&&p(r)}}}function xs(s){var r,t,n,e;return{c:function(){r=u("div"),t=u("figure"),n=u("img"),this.h()},l:function(s){r=f(s,"DIV",{class:!0});var e=m(r);t=f(e,"FIGURE",{class:!0});var o=m(t);n=f(o,"IMG",{src:!0,width:!0,height:!0,alt:!0}),o.forEach(p),e.forEach(p),this.h()},h:function(){K(n.src,e=s[9])||h(n,"src",e),h(n,"width","240"),h(n,"height","240"),h(n,"alt","Album"),h(t,"class","image"),h(r,"class","card-image has-text-centered")},m:function(s,e){j(s,r,e),v(r,t),v(t,n)},p:function(s,r){512&r&&!K(n.src,e=s[9])&&h(n,"src",e)},d:function(s){s&&p(r)}}}function Is(s){var r,t,n,e,o,a,c,i=s[7].track.name+"",w=s[7].track.artists&&Ds(s),b=s[1]&&s[0]&&Vs(s);return{c:function(){r=u("div"),t=u("div"),n=u("div"),e=u("p"),o=g(i),a=l(),w&&w.c(),c=l(),b&&b.c(),this.h()},l:function(s){r=f(s,"DIV",{class:!0});var u=m(r);t=f(u,"DIV",{class:!0});var l=m(t);n=f(l,"DIV",{class:!0});var h=m(n);e=f(h,"P",{class:!0});var j=m(e);o=y(j,i),j.forEach(p),a=d(h),w&&w.l(h),h.forEach(p),l.forEach(p),c=d(u),b&&b.l(u),u.forEach(p),this.h()},h:function(){h(e,"class","title is-4"),h(n,"class","media-content"),h(t,"class","media"),h(r,"class","card-content")},m:function(s,i){j(s,r,i),v(r,t),v(t,n),v(n,e),v(e,o),v(n,a),w&&w.m(n,null),v(r,c),b&&b.m(r,null)},p:function(s,t){128&t&&i!==(i=s[7].track.name+"")&&k(o,i),s[7].track.artists?w?w.p(s,t):((w=Ds(s)).c(),w.m(n,null)):w&&(w.d(1),w=null),s[1]&&s[0]?b?b.p(s,t):((b=Vs(s)).c(),b.m(r,null)):b&&(b.d(1),b=null)},d:function(s){s&&p(r),w&&w.d(),b&&b.d()}}}function Ds(s){var r,t,n=s[7].track.artists[0].name+"";return{c:function(){r=u("p"),t=g(n),this.h()},l:function(s){r=f(s,"P",{class:!0});var e=m(r);t=y(e,n),e.forEach(p),this.h()},h:function(){h(r,"class","subtitle is-6")},m:function(s,n){j(s,r,n),v(r,t)},p:function(s,r){128&r&&n!==(n=s[7].track.artists[0].name+"")&&k(t,n)},d:function(s){s&&p(r)}}}function Vs(s){var r,t,n,e,o,a,c,i,D,V,P,A,R,N,z=x(s[1])+"",T=x(s[0])+"";return{c:function(){r=u("div"),t=u("div"),n=u("div"),e=g(z),o=g(" "),a=l(),c=u("div"),i=u("input"),D=l(),V=u("div"),P=g(" "),A=g(T),this.h()},l:function(s){r=f(s,"DIV",{class:!0});var u=m(r);t=f(u,"DIV",{class:!0});var l=m(t);n=f(l,"DIV",{class:!0});var h=m(n);e=y(h,z),o=y(h," "),h.forEach(p),a=d(l),c=f(l,"DIV",{class:!0});var j=m(c);i=f(j,"INPUT",{type:!0,min:!0,max:!0,class:!0}),j.forEach(p),D=d(l),V=f(l,"DIV",{class:!0});var v=m(V);P=y(v," "),A=y(v,T),v.forEach(p),l.forEach(p),u.forEach(p),this.h()},h:function(){h(n,"class","column is-narrow"),h(i,"type","range"),h(i,"min","0"),h(i,"max","100"),h(i,"class","slider svelte-1iz48mk"),h(c,"class","column"),h(V,"class","column is-narrow"),h(t,"class","columns is-mobile is-gapless"),h(r,"class","content")},m:function(u,l){j(u,r,l),v(r,t),v(t,n),v(n,e),v(n,o),v(t,a),v(t,c),v(c,i),w(i,s[6]),v(t,D),v(t,V),v(V,P),v(V,A),R||(N=[b(i,"change",s[15]),b(i,"input",s[15]),b(i,"change",function(){$(E(s[6]))&&E(s[6]).apply(this,arguments)})],R=!0)},p:function(r,t){s=r,2&t&&z!==(z=x(s[1])+"")&&k(e,z),64&t&&w(i,s[6]),1&t&&T!==(T=x(s[0])+"")&&k(A,T)},d:function(s){s&&p(r),R=!1,I(N)}}}function Ps(s){var r;function t(s,r){return s[5]?Ns:s[8]&&1==s[8]._webSocket.readyState?Rs:As}var n=t(s),e=n(s);return{c:function(){e.c(),r=B()},l:function(s){e.l(s),r=B()},m:function(s,t){e.m(s,t),j(s,r,t)},p:function(s,o){n===(n=t(s))&&e?e.p(s,o):(e.d(1),(e=n(s))&&(e.c(),e.m(r.parentNode,r)))},d:function(s){e.d(s),s&&p(r)}}}function As(s){var r,t;return{c:function(){r=u("p"),t=g("not connected to mopidy"),this.h()},l:function(s){r=f(s,"P",{class:!0});var n=m(r);t=y(n,"not connected to mopidy"),n.forEach(p),this.h()},h:function(){h(r,"class","list-item")},m:function(s,n){j(s,r,n),v(r,t)},p:L,d:function(s){s&&p(r)}}}function Rs(s){var r,t;return{c:function(){r=u("p"),t=g("loading songs..."),this.h()},l:function(s){r=f(s,"P",{class:!0});var n=m(r);t=y(n,"loading songs..."),n.forEach(p),this.h()},h:function(){h(r,"class","list-item")},m:function(s,n){j(s,r,n),v(r,t)},p:L,d:function(s){s&&p(r)}}}function Ns(s){var r,t,n={ctx:s,current:null,token:null,hasCatch:!0,pending:Cs,then:Ts,catch:zs,error:24};return Q(t=s[5],n),{c:function(){r=B(),n.block.c()},l:function(s){r=B(),n.block.l(s)},m:function(s,t){j(s,r,t),n.block.m(s,n.anchor=t),n.mount=function(){return r.parentNode},n.anchor=r},p:function(r,e){s=r,n.ctx=s,32&e&&t!==(t=s[5])&&Q(t,n)||W(n,s,e)},d:function(s){s&&p(r),n.block.d(s),n.token=null,n=null}}}function zs(s){var r,t,n,e=s[24].message+"";return{c:function(){r=u("p"),t=g(e),n=l(),this.h()},l:function(s){r=f(s,"P",{class:!0,style:!0});var o=m(r);t=y(o,e),o.forEach(p),n=d(s),this.h()},h:function(){h(r,"class","list-item"),fs(r,"color","red")},m:function(s,e){j(s,r,e),v(r,t),j(s,n,e)},p:function(s,r){32&r&&e!==(e=s[24].message+"")&&k(t,e)},d:function(s){s&&p(r),s&&p(n)}}}function Ts(s){var r,t,n;return{c:function(){r=u("p"),t=g("no tracks playing"),n=l(),this.h()},l:function(s){r=f(s,"P",{class:!0});var e=m(r);t=y(e,"no tracks playing"),e.forEach(p),n=d(s),this.h()},h:function(){h(r,"class","list-item")},m:function(s,e){j(s,r,e),v(r,t),j(s,n,e)},p:L,d:function(s){s&&p(r),s&&p(n)}}}function Cs(s){var r,t,n;return{c:function(){r=u("p"),t=g("loading songs..."),n=l(),this.h()},l:function(s){r=f(s,"P",{class:!0});var e=m(r);t=y(e,"loading songs..."),e.forEach(p),n=d(s),this.h()},h:function(){h(r,"class","list-item")},m:function(s,e){j(s,r,e),v(r,t),j(s,n,e)},p:L,d:function(s){s&&p(r),s&&p(n)}}}function Gs(s){var r,t,n;return t=new X({props:{icon:Y,spin:"playing"==s[10],class:"icon is-small"}}),{c:function(){r=g(" "),D(t.$$.fragment)},l:function(s){r=y(s," "),V(t.$$.fragment,s)},m:function(s,e){j(s,r,e),A(t,s,e),n=!0},p:function(s,r){var n={};1024&r&&(n.spin="playing"==s[10]),t.$set(n)},i:function(s){n||(N(t.$$.fragment,s),n=!0)},o:function(s){z(t.$$.fragment,s),n=!1},d:function(s){s&&p(r),T(t,s)}}}function _s(s){var r,t;return r=new X({props:{icon:ms,class:"icon","aria-haspopup":"true","aria-controls":"dropdown-menu"}}),{c:function(){D(r.$$.fragment)},l:function(s){V(r.$$.fragment,s)},m:function(s,n){A(r,s,n),t=!0},p:L,i:function(s){t||(N(r.$$.fragment,s),t=!0)},o:function(s){z(r.$$.fragment,s),t=!1},d:function(s){T(r,s)}}}function Bs(s){var r,t;return r=new X({props:{icon:ds,class:"icon","aria-haspopup":"true","aria-controls":"dropdown-menu"}}),{c:function(){D(r.$$.fragment)},l:function(s){V(r.$$.fragment,s)},m:function(s,n){A(r,s,n),t=!0},p:L,i:function(s){t||(N(r.$$.fragment,s),t=!0)},o:function(s){z(r.$$.fragment,s),t=!1},d:function(s){T(r,s)}}}function Ms(s,r){var t,n,e,o,a,c,i,w,E,x,B,M,U,F,O,S,q,H,J,K,Q,W,Y,ts,ns,es,os=r[21].track.name+"",as=L,cs=r[23]===r[7].index&&Gs(r),is=[Bs,_s],us=[];function ls(s,r){return s[4]==s[21].tlid?0:1}function fs(){for(var s,t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return(s=r)[16].apply(s,[r[23]].concat(n))}function ms(){for(var s,t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return(s=r)[17].apply(s,[r[23]].concat(n))}function ds(){return r[18](r[23])}return x=ls(r),B=us[x]=is[x](r),S=new X({props:{icon:Z,class:"icon is-small"}}),K=new X({props:{icon:ss,class:"icon is-small"}}),{key:s,first:null,c:function(){t=u("a"),n=u("div"),e=u("div"),o=g(os),a=l(),cs&&cs.c(),c=l(),i=u("div"),w=u("div"),E=u("div"),B.c(),M=l(),U=u("div"),F=u("div"),O=u("a"),D(S.$$.fragment),q=g(" \n                  Play"),H=l(),J=u("a"),D(K.$$.fragment),Q=g(" \n                  Remove track"),W=l(),this.h()},l:function(s){t=f(s,"A",{class:!0,href:!0,draggable:!0,ondragover:!0});var r=m(t);n=f(r,"DIV",{class:!0});var u=m(n);e=f(u,"DIV",{class:!0});var l=m(e);o=y(l,os),a=d(l),cs&&cs.l(l),l.forEach(p),c=d(u),i=f(u,"DIV",{class:!0});var h=m(i);w=f(h,"DIV",{class:!0});var j=m(w);E=f(j,"DIV",{class:!0});var v=m(E);B.l(v),v.forEach(p),M=d(j),U=f(j,"DIV",{class:!0,id:!0,role:!0});var g=m(U);F=f(g,"DIV",{class:!0});var k=m(F);O=f(k,"A",{href:!0,class:!0});var b=m(O);V(S.$$.fragment,b),q=y(b," \n                  Play"),b.forEach(p),H=d(k),J=f(k,"A",{href:!0,class:!0});var $=m(J);V(K.$$.fragment,$),Q=y($," \n                  Remove track"),$.forEach(p),k.forEach(p),g.forEach(p),j.forEach(p),h.forEach(p),u.forEach(p),W=d(r),r.forEach(p),this.h()},h:function(){h(e,"class","column"),h(E,"class","dropdown-trigger"),h(O,"href",null),h(O,"class","dropdown-item"),h(J,"href",null),h(J,"class","dropdown-item"),h(F,"class","dropdown-content"),h(U,"class","dropdown-menu"),h(U,"id","dropdown-menu"),h(U,"role","menu"),h(w,"class","dropdown is-right is-up"),P(w,"is-active",r[4]==r[21].tlid),h(i,"class","column is-narrow"),h(n,"class","columns is-mobile"),h(t,"class","list-item"),h(t,"href",null),h(t,"draggable",!0),h(t,"ondragover","return false"),P(t,"is-active",r[3]===r[23]),this.first=t},m:function(s,u){j(s,t,u),v(t,n),v(n,e),v(e,o),v(e,a),cs&&cs.m(e,null),v(n,c),v(n,i),v(i,w),v(w,E),us[x].m(E,null),v(w,M),v(w,U),v(U,F),v(F,O),A(S,O,null),v(O,q),v(F,H),v(F,J),A(K,J,null),v(J,Q),v(t,W),ts=!0,ns||(es=[b(e,"click",function(){$(r[14](r[21].tlid))&&r[14](r[21].tlid).apply(this,arguments)}),b(E,"click",function(){$(r[14](r[21].tlid))&&r[14](r[21].tlid).apply(this,arguments)}),b(O,"click",function(){$(r[11](r[21]))&&r[11](r[21]).apply(this,arguments)}),b(J,"click",function(){$(r[12](r[21]))&&r[12](r[21]).apply(this,arguments)}),b(t,"dragstart",fs),b(t,"drop",R(ms)),b(t,"dragenter",ds)],ns=!0)},p:function(s,n){r=s,(!ts||4&n)&&os!==(os=r[21].track.name+"")&&k(o,os),r[23]===r[7].index?cs?(cs.p(r,n),132&n&&N(cs,1)):((cs=Gs(r)).c(),N(cs,1),cs.m(e,null)):cs&&(rs(),z(cs,1,1,function(){cs=null}),C());var a=x;(x=ls(r))===a?us[x].p(r,n):(rs(),z(us[a],1,1,function(){us[a]=null}),C(),(B=us[x])?B.p(r,n):(B=us[x]=is[x](r)).c(),N(B,1),B.m(E,null)),20&n&&P(w,"is-active",r[4]==r[21].tlid),12&n&&P(t,"is-active",r[3]===r[23])},r:function(){Y=t.getBoundingClientRect()},f:function(){G(t),as()},a:function(){as(),as=_(t,Y,gs,{duration:300})},i:function(s){ts||(N(cs),N(B),N(S.$$.fragment,s),N(K.$$.fragment,s),ts=!0)},o:function(s){z(cs),z(B),z(S.$$.fragment,s),z(K.$$.fragment,s),ts=!1},d:function(s){s&&p(t),cs&&cs.d(),us[x].d(),T(S),T(K),ns=!1,I(es)}}}function Us(s){for(var r,t,n,e,o,a,c,i,k,w,$,E,x,D,V=[],P=new Map,A=s[7]&&$s(s),R=s[2],T=function(s){return s[21].tlid},G=0;G<R.length;G+=1){var _=bs(s,R,G),B=T(_);P.set(B,V[G]=Ms(B,_))}var S=null;return R.length||(S=Ps(s)),{c:function(){r=l(),t=u("h1"),n=g("Now playing"),e=l(),A&&A.c(),o=l(),a=u("div");for(var s=0;s<V.length;s+=1)V[s].c();S&&S.c(),c=l(),i=u("div"),k=u("div"),w=u("a"),$=g("Version - 0.0.27"),this.h()},l:function(s){M('[data-svelte="svelte-1546q17"]',document.head).forEach(p),r=d(s),t=f(s,"H1",{class:!0});var u=m(t);n=y(u,"Now playing"),u.forEach(p),e=d(s),A&&A.l(s),o=d(s),a=f(s,"DIV",{class:!0});for(var l=m(a),h=0;h<V.length;h+=1)V[h].l(l);S&&S.l(l),l.forEach(p),c=d(s),i=f(s,"DIV",{class:!0});var j=m(i);k=f(j,"DIV",{class:!0});var v=m(k);w=f(v,"A",{href:!0});var g=m(w);$=y(g,"Version - 0.0.27"),g.forEach(p),v.forEach(p),j.forEach(p),this.h()},h:function(){document.title="Now Playing",h(t,"class","title"),h(a,"class","list is-hoverable"),h(w,"href","https://github.com/cristianpb/muse"),h(k,"class","column has-text-centered"),h(i,"class","columns")},m:function(u,l){j(u,r,l),j(u,t,l),v(t,n),j(u,e,l),A&&A.m(u,l),j(u,o,l),j(u,a,l);for(var f=0;f<V.length;f+=1)V[f].m(a,null);S&&S.m(a,null),j(u,c,l),j(u,i,l),v(i,k),v(k,w),v(w,$),E=!0,x||(D=[U(ys.call(null,a)),b(a,"click_outside",s[19])],x=!0)},p:function(s,r){var t=F(r,1)[0];if(s[7]?A?A.p(s,t):((A=$s(s)).c(),A.m(o.parentNode,o)):A&&(A.d(1),A=null),32188&t){R=s[2],rs();for(var n=0;n<V.length;n+=1)V[n].r();V=O(V,t,T,1,s,R,P,a,ts,Ms,null,bs);for(var e=0;e<V.length;e+=1)V[e].a();C(),!R.length&&S?S.p(s,t):R.length?S&&(S.d(1),S=null):((S=Ps(s)).c(),S.m(a,null))}},i:function(s){if(!E){for(var r=0;r<R.length;r+=1)N(V[r]);E=!0}},o:function(s){for(var r=0;r<V.length;r+=1)z(V[r]);E=!1},d:function(s){s&&p(r),s&&p(t),s&&p(e),A&&A.d(s),s&&p(o),s&&p(a);for(var n=0;n<V.length;n+=1)V[n].d();S&&S.d(),s&&p(c),s&&p(i),x=!1,I(D)}}}function Fs(s,r,t){var n,e,o,a,c,i,u;S(s,H,function(s){return t(7,e=s)}),S(s,ps,function(s){return t(8,o=s)}),S(s,as,function(s){return t(9,a=s)}),S(s,hs,function(s){return t(0,c=s)}),S(s,js,function(s){return t(1,i=s)}),S(s,vs,function(s){return t(10,u=s)});var l,f,m=[],d=!1;q(ns(es.mark(function s(){return es.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:t(5,f=p());case 1:case"end":return s.stop()}},s)}))),H.subscribe(function(){var s=ns(es.mark(function s(r){return es.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(!r||!r.track){s.next=8;break}return s.t0=os,s.t1=as,s.next=5,cs(r.track);case 5:s.t2=a=s.sent,s.t3=a,(0,s.t0)(s.t1,s.t2,s.t3);case 8:case"end":return s.stop()}},s)}));return function(r){return s.apply(this,arguments)}}());var p=function(){var s=ns(es.mark(function s(){return es.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.t0=t,s.next=3,is();case 3:s.t1=m=s.sent,(0,s.t0)(2,s.t1);case 5:case"end":return s.stop()}},s)}));return function(){return s.apply(this,arguments)}}(),h=function(){var s=ns(es.mark(function s(r){var n;return es.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,o.tracklist.remove({criteria:{uri:[r.track.uri]}});case 2:n=s.sent,t(4,l=null),n.length>0&&t(2,m=m.filter(function(s){return s.track.uri!=n[0].track.uri}));case 5:case"end":return s.stop()}},s)}));return function(r){return s.apply(this,arguments)}}();function j(s,r){s.dataTransfer.dropEffect="move";var n=parseInt(s.dataTransfer.getData("text/plain")),a=m;n<r?(a.splice(r+1,0,a[n]),a.splice(n,1),o.tracklist.move({start:n,end:n+1,to_position:r})):(a.splice(r,0,a[n]),a.splice(n+1,1),o.tracklist.move({start:r,end:n,to_position:r+1})),t(2,m=a),n===e.index&&os(H,e.index=r,e),t(3,d=null)}return s.$$.update=function(){3&s.$$.dirty&&t(6,n=J(i,c))},[c,i,m,d,l,f,n,e,o,a,u,function(s){us(s),t(4,l=null)},h,j,function(s){t(4,l=l===s?null:s)},function(){n=ls(this.value),t(6,n),t(1,i),t(0,c)},function(s,r){return function(s,r){s.dataTransfer.effectAllowed="move",s.dataTransfer.dropEffect="move";var t=r;s.dataTransfer.setData("text/plain",t)}(r,s)},function(s,r){return j(r,s)},function(s){return t(3,d=s)},function(){return t(4,l=null)}]}export default(function(r){s(i,a);var t=ks(i);function i(s){var r;return n(this,i),r=t.call(this),e(o(r),s,Fs,Us,c,{},ws),r}return i}());
