(this["webpackJsonpray-dashboard-client"]=this["webpackJsonpray-dashboard-client"]||[]).push([[8],{255:function(e,t,a){"use strict";var n=a(223),r=a(180),i=a(0),o=a.n(i),c=Object(n.a)((function(e){return{card:{padding:e.spacing(2),paddingTop:e.spacing(1.5),margin:[e.spacing(2),e.spacing(1)].map((function(e){return"".concat(e,"px")})).join(" ")},title:{fontSize:e.typography.fontSize+2,fontWeight:500,color:e.palette.text.secondary,marginBottom:e.spacing(1)},body:{padding:e.spacing(.5)}}}));t.a=function(e){var t=e.title,a=e.children,n=c();return o.a.createElement(r.a,{className:n.card},o.a.createElement("div",{className:n.title},t),o.a.createElement("div",{className:n.body},a))}},258:function(e,t,a){"use strict";a.d(t,"a",(function(){return u})),a.d(t,"b",(function(){return m}));var n=a(223),r=a(240),i=a(285),o=a(234),c=a(286),l=a(0),s=a.n(l),d=Object(n.a)((function(e){return{search:{margin:e.spacing(1),marginTop:0}}})),u=function(e){var t=e.label,a=e.onChange,n=e.defaultValue,o=d();return s.a.createElement(r.a,{className:o.search,size:"small",label:t,InputProps:{onChange:function(e){var t=e.target.value;a&&a(t)},defaultValue:n,endAdornment:s.a.createElement(i.a,{position:"end"},s.a.createElement(c.a,null))}})},m=function(e){var t=e.label,a=e.onChange,n=e.options,i=d();return s.a.createElement(r.a,{className:i.search,size:"small",label:t,select:!0,SelectProps:{onChange:function(e){var t=e.target.value;a&&a(t)},style:{width:100}}},s.a.createElement(o.a,{value:""},"All"),n.map((function(e){return"string"===typeof e?s.a.createElement(o.a,{value:e},e):s.a.createElement(o.a,{value:e[0]},e[1])})))}},259:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(1),r=a(0),i=a.n(r),o=a(71);function c(e,t){var a=i.a.memo(i.a.forwardRef((function(t,a){return i.a.createElement(o.a,Object(n.a)({ref:a},t),e)})));return a.muiName=o.a.muiName,a}},272:function(e,t,a){"use strict";var n=a(1),r=a(2),i=a(0),o=(a(5),a(3)),c=a(4),l=a(13),s=a(7),d=a(90),u=i.forwardRef((function(e,t){var a=e.classes,c=e.className,l=e.color,u=void 0===l?"secondary":l,m=e.edge,p=void 0!==m&&m,f=e.size,b=void 0===f?"medium":f,h=Object(r.a)(e,["classes","className","color","edge","size"]),g=i.createElement("span",{className:a.thumb});return i.createElement("span",{className:Object(o.a)(a.root,c,{start:a.edgeStart,end:a.edgeEnd}[p],"small"===b&&a["size".concat(Object(s.a)(b))])},i.createElement(d.a,Object(n.a)({type:"checkbox",icon:g,checkedIcon:g,classes:{root:Object(o.a)(a.switchBase,a["color".concat(Object(s.a)(u))]),input:a.input,checked:a.checked,disabled:a.disabled},ref:t},h)),i.createElement("span",{className:a.track}))}));t.a=Object(c.a)((function(e){return{root:{display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"}},edgeStart:{marginLeft:-8},edgeEnd:{marginRight:-8},switchBase:{position:"absolute",top:0,left:0,zIndex:1,color:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[400],transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),"&$checked":{transform:"translateX(20px)"},"&$disabled":{color:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[800]},"&$checked + $track":{opacity:.5},"&$disabled + $track":{opacity:"light"===e.palette.type?.12:.1}},colorPrimary:{"&$checked":{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(l.c)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[800]},"&$checked + $track":{backgroundColor:e.palette.primary.main},"&$disabled + $track":{backgroundColor:"light"===e.palette.type?e.palette.common.black:e.palette.common.white}},colorSecondary:{"&$checked":{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(l.c)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[800]},"&$checked + $track":{backgroundColor:e.palette.secondary.main},"&$disabled + $track":{backgroundColor:"light"===e.palette.type?e.palette.common.black:e.palette.common.white}},sizeSmall:{width:40,height:24,padding:7,"& $thumb":{width:16,height:16},"& $switchBase":{padding:4,"&$checked":{transform:"translateX(16px)"}}},checked:{},disabled:{},input:{left:"-100%",width:"300%"},thumb:{boxShadow:e.shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"},track:{height:"100%",width:"100%",borderRadius:7,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:"light"===e.palette.type?e.palette.common.black:e.palette.common.white,opacity:"light"===e.palette.type?.38:.3}}}),{name:"MuiSwitch"})(u)},273:function(e,t,a){"use strict";var n=a(29),r=a(6),i=a(263),o=a.n(i),c=a(280),l=a.n(c),s=a(0),d=a.n(s),u=a(282),m=(a(275),a(276),a(277),a(89)),p=function(){return Math.random().toString(16).slice(-8)},f=/(?:(?!0000)[0-9]{4}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-8])|(?:0[13-9]|1[0-2])-(?:29|30)|(?:0[13578]|1[02])-31)|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)-02-29)\s+([01][0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9]/;t.a=function(e){var t=e.content,a=e.width,i=void 0===a?"100%":a,c=e.height,b=e.fontSize,h=void 0===b?12:b,g=e.theme,v=void 0===g?Object(m.c)():g,y=e.keywords,E=void 0===y?"":y,j=e.language,O=void 0===j?"dos":j,k=e.focusLine,w=void 0===k?1:k,N=e.style,S=void 0===N?{}:N,C=e.listRef,x=e.onScrollBottom,I=e.revert,R=void 0!==I&&I,T=e.startTime,z=e.endTime,$=Object(s.useState)([]),P=Object(r.a)($,2),L=P[0],B=P[1],U=L.length,A=Object(s.useRef)(),M=Object(s.useRef)(null),q=Object(s.useRef)(null);C&&(C.current=q.current);var F=function(e){var t=e.index,a=e.style,r=L[R?L.length-1-t:t],i=r.i,o=r.origin;return d.a.createElement("div",{key:"".concat(t,"list"),style:Object(n.a)(Object(n.a)({},a),{},{overflowX:"visible",whiteSpace:"pre"})},d.a.createElement("span",{style:{marginRight:4,width:6*"".concat(L.length).length+4,color:"#999",display:"inline-block"}},i+1),l.a.highlight(O,o).value.map((function(e){return function e(t,a){var n=t.type,r=t.tagName,i=t.properties,o=t.children,c=t.value,l=void 0===c?"":c,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";switch(n){case"element":return d.a.createElement(r,{className:i.className[0],key:"".concat(a,"line").concat(p())},o.map((function(t,n){return e(t,"".concat(a,"-").concat(n),s)})));case"text":if(s&&l.includes(s)){var u=[],m=l.split(s),f=m.shift();if(!f)return d.a.createElement("span",{className:"find-kws"},s);for(;"string"===typeof f;)""!==f?u.push(f):u.push(d.a.createElement("span",{className:"find-kws"},s)),(f=m.shift())&&u.push(d.a.createElement("span",{className:"find-kws"},s));return u}return l;default:return[]}}(e,t.toString(),E)})))};return Object(s.useEffect)((function(){var e=t.split("\n");A.current&&clearTimeout(A.current),A.current=setTimeout((function(){B(e.map((function(e,t){return{i:t,origin:e,time:((null===e||void 0===e?void 0:e.match(f))||[""])[0]}})).filter((function(e){var t=e.origin.includes(E);return e.time&&T&&!o()(e.time).isAfter(o()(T))&&(t=!1),e.time&&z&&!o()(e.time).isBefore(o()(z))&&(t=!1),t})).map((function(e){return Object(n.a)({},e)})))}),500)}),[t,E,O,T,z]),Object(s.useEffect)((function(){var e;M.current&&(null===(e=M.current)||void 0===e||e.scrollTo((w-1)*(h+6)))}),[w,h]),Object(s.useEffect)((function(){if(q.current){var e=function(e){var t=e.target;t&&t.scrollTop+t.clientHeight===t.scrollHeight&&x&&x(e)};return q.current.addEventListener("scroll",e),function(){var t;return null===q||void 0===q||null===(t=q.current)||void 0===t?void 0:t.removeEventListener("scroll",e)}}}),[x]),d.a.createElement(u.a,{height:c||18*(t.split("\n").length+1),width:i,ref:M,outerRef:q,className:"hljs-".concat(v),style:Object(n.a)({fontSize:h},S),itemSize:h+6,itemCount:U},F)}},275:function(e,t,a){},276:function(e,t,a){},277:function(e,t,a){},285:function(e,t,a){"use strict";var n=a(1),r=a(2),i=a(0),o=(a(5),a(3)),c=a(128),l=a(4),s=a(54),d=i.forwardRef((function(e,t){var a=e.children,l=e.classes,d=e.className,u=e.component,m=void 0===u?"div":u,p=e.disablePointerEvents,f=void 0!==p&&p,b=e.disableTypography,h=void 0!==b&&b,g=e.position,v=e.variant,y=Object(r.a)(e,["children","classes","className","component","disablePointerEvents","disableTypography","position","variant"]),E=Object(s.b)()||{},j=v;return v&&E.variant,E&&!j&&(j=E.variant),i.createElement(s.a.Provider,{value:null},i.createElement(m,Object(n.a)({className:Object(o.a)(l.root,d,f&&l.disablePointerEvents,E.hiddenLabel&&l.hiddenLabel,"filled"===j&&l.filled,{start:l.positionStart,end:l.positionEnd}[g],"dense"===E.margin&&l.marginDense),ref:t},y),"string"!==typeof a||h?a:i.createElement(c.a,{color:"textSecondary"},a)))}));t.a=Object(l.a)({root:{display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap"},filled:{"&$positionStart:not($hiddenLabel)":{marginTop:16}},positionStart:{marginRight:8},positionEnd:{marginLeft:8},disablePointerEvents:{pointerEvents:"none"},hiddenLabel:{},marginDense:{}},{name:"MuiInputAdornment"})(d)},286:function(e,t,a){"use strict";var n=a(0),r=a.n(n),i=a(259);t.a=Object(i.a)(r.a.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"SearchOutlined")},515:function(e,t,a){"use strict";a.r(t);var n=a(29),r=a(6),i=a(223),o=a(180),c=a(235),l=a(233),s=a(188),d=a(240),u=a(285),m=a(272),p=a(1),f=a(2),b=a(0),h=a.n(b),g=(a(5),a(3)),v=a(7),y=a(4),E=a(13),j=a(30),O=b.forwardRef((function(e,t){var a=e.classes,n=e.className,r=e.color,i=void 0===r?"primary":r,o=e.value,c=e.valueBuffer,l=e.variant,s=void 0===l?"indeterminate":l,d=Object(f.a)(e,["classes","className","color","value","valueBuffer","variant"]),u=Object(j.a)(),m={},h={bar1:{},bar2:{}};if("determinate"===s||"buffer"===s)if(void 0!==o){m["aria-valuenow"]=Math.round(o),m["aria-valuemin"]=0,m["aria-valuemax"]=100;var y=o-100;"rtl"===u.direction&&(y=-y),h.bar1.transform="translateX(".concat(y,"%)")}else 0;if("buffer"===s)if(void 0!==c){var E=(c||0)-100;"rtl"===u.direction&&(E=-E),h.bar2.transform="translateX(".concat(E,"%)")}else 0;return b.createElement("div",Object(p.a)({className:Object(g.a)(a.root,a["color".concat(Object(v.a)(i))],n,{determinate:a.determinate,indeterminate:a.indeterminate,buffer:a.buffer,query:a.query}[s]),role:"progressbar"},m,{ref:t},d),"buffer"===s?b.createElement("div",{className:Object(g.a)(a.dashed,a["dashedColor".concat(Object(v.a)(i))])}):null,b.createElement("div",{className:Object(g.a)(a.bar,a["barColor".concat(Object(v.a)(i))],("indeterminate"===s||"query"===s)&&a.bar1Indeterminate,{determinate:a.bar1Determinate,buffer:a.bar1Buffer}[s]),style:h.bar1}),"determinate"===s?null:b.createElement("div",{className:Object(g.a)(a.bar,("indeterminate"===s||"query"===s)&&a.bar2Indeterminate,"buffer"===s?[a["color".concat(Object(v.a)(i))],a.bar2Buffer]:a["barColor".concat(Object(v.a)(i))]),style:h.bar2}))})),k=Object(y.a)((function(e){var t=function(t){return"light"===e.palette.type?Object(E.e)(t,.62):Object(E.a)(t,.5)},a=t(e.palette.primary.main),n=t(e.palette.secondary.main);return{root:{position:"relative",overflow:"hidden",height:4,"@media print":{colorAdjust:"exact"}},colorPrimary:{backgroundColor:a},colorSecondary:{backgroundColor:n},determinate:{},indeterminate:{},buffer:{backgroundColor:"transparent"},query:{transform:"rotate(180deg)"},dashed:{position:"absolute",marginTop:0,height:"100%",width:"100%",animation:"$buffer 3s infinite linear"},dashedColorPrimary:{backgroundImage:"radial-gradient(".concat(a," 0%, ").concat(a," 16%, transparent 42%)"),backgroundSize:"10px 10px",backgroundPosition:"0 -23px"},dashedColorSecondary:{backgroundImage:"radial-gradient(".concat(n," 0%, ").concat(n," 16%, transparent 42%)"),backgroundSize:"10px 10px",backgroundPosition:"0 -23px"},bar:{width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},barColorPrimary:{backgroundColor:e.palette.primary.main},barColorSecondary:{backgroundColor:e.palette.secondary.main},bar1Indeterminate:{width:"auto",animation:"$indeterminate1 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite"},bar1Determinate:{transition:"transform .".concat(4,"s linear")},bar1Buffer:{zIndex:1,transition:"transform .".concat(4,"s linear")},bar2Indeterminate:{width:"auto",animation:"$indeterminate2 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite"},bar2Buffer:{transition:"transform .".concat(4,"s linear")},"@keyframes indeterminate1":{"0%":{left:"-35%",right:"100%"},"60%":{left:"100%",right:"-90%"},"100%":{left:"100%",right:"-90%"}},"@keyframes indeterminate2":{"0%":{left:"-200%",right:"100%"},"60%":{left:"107%",right:"-8%"},"100%":{left:"107%",right:"-8%"}},"@keyframes buffer":{"0%":{opacity:1,backgroundPosition:"0 -23px"},"50%":{opacity:0,backgroundPosition:"0 -23px"},"100%":{opacity:1,backgroundPosition:"-200px -23px"}}}}),{name:"MuiLinearProgress"})(O),w=a(286),N=a(273),S=a(258),C=a(255),x=a(12),I=a.n(x),R=a(17),T=a(53),z=function(){var e=Object(R.a)(I.a.mark((function e(t){var a,n,r,i,o,c,l;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/"!==window.location.pathname&&"log_index"!==t&&(n=window.location.pathname.split("/")).length>1&&(r=n.findIndex((function(e){return e.includes(":")})))>-1&&((i=n.slice(0,r)).push(t.replace(/https?:\/\//,"")),t=i.join("/")),e.next=3,Object(T.b)("log_index"===t?t:"log_proxy?url=".concat(encodeURIComponent(t)));case 3:if(o=e.sent,!(null===(a=o.headers["content-type"])||void 0===a?void 0:a.includes("html"))){e.next=9;break}return(c=document.createElement("div")).innerHTML=o.data,l=[].map.call(c.getElementsByTagName("li"),(function(e){var t=e.children[0];return{name:e.innerText,href:e.innerText.includes("http")?t.href:t.pathname}})),e.abrupt("return",l);case 9:return e.abrupt("return",o.data);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=Object(i.a)((function(e){return{root:{padding:e.spacing(2),width:"100%"},table:{marginTop:e.spacing(4),padding:e.spacing(2)},pageMeta:{padding:e.spacing(2),marginTop:e.spacing(2)},search:{margin:e.spacing(1)}}}));t.default=function(e){var t=$(),a=function(e){var t=e.match.params,a=e.location.search,n=e.theme,i=t.host,o=t.path,c=new URLSearchParams(a),l=c.get("fileName"),s=Object(b.useRef)(null),d=Object(b.useState)(),u=Object(r.a)(d,2),m=u[0],p=u[1],f=Object(b.useState)(),h=Object(r.a)(f,2),g=h[0],v=h[1],y=Object(b.useState)(c.get("fileName")||""),E=Object(r.a)(y,2),j=E[0],O=E[1],k=Object(b.useState)(),w=Object(r.a)(k,2),N=w[0],S=w[1],C=Object(b.useState)(),x=Object(r.a)(C,2),I=x[0],R=x[1],T=Object(b.useState)(),$=Object(r.a)(T,2),P=$[0],L=$[1];return Object(b.useEffect)((function(){O(l||"")}),[l]),Object(b.useEffect)((function(){var e="log_index";S("Loading..."),i?(e=decodeURIComponent(i),p(new URL(e).origin),o&&(e+=decodeURIComponent(o))):p(void 0),z(e).then((function(e){S(e||"(null)")})).catch((function(){S("Failed to load")}))}),[i,o]),{log:N,origin:m,host:i,path:o,el:s,search:g,setSearch:v,theme:n,fileName:j,setFileName:O,startTime:I,setStart:R,endTime:P,setEnd:L}}(e),i=a.log,p=a.origin,f=a.path,g=a.el,v=a.search,y=a.setSearch,E=a.theme,j=a.fileName,O=a.setFileName,x=a.startTime,I=a.setStart,R=a.endTime,T=a.setEnd,P="#/log/";if(p&&f){var L=decodeURIComponent(f).split("/");L.pop(),L.length>1&&(P+=encodeURIComponent(p),P+="/",P+=encodeURIComponent(L.join("/")))}return h.a.createElement("div",{className:t.root,ref:g},h.a.createElement(C.a,{title:"Logs Viewer"},h.a.createElement(o.a,null,!p&&h.a.createElement("p",null,"Please choose an url to get log path"),p&&h.a.createElement("p",null,"Now Path: ",p,decodeURIComponent(f||"")),p&&h.a.createElement("div",null,h.a.createElement(c.a,{variant:"contained",href:P,className:t.search},"Back To ../"),"object"===typeof i&&h.a.createElement(S.a,{defaultValue:j,label:"File Name",onChange:function(e){O(e)}}))),h.a.createElement(o.a,null,"object"===typeof i&&h.a.createElement(l.a,null,i.filter((function(e){var t;return!j||(null===e||void 0===e||null===(t=e.name)||void 0===t?void 0:t.includes(j))})).map((function(e){return h.a.createElement(s.a,{key:e.name},h.a.createElement("a",{href:"#/log/".concat(p?"".concat(encodeURIComponent(p),"/"):"").concat(encodeURIComponent(e.href))},e.name))}))),"string"===typeof i&&"Loading..."!==i&&h.a.createElement("div",null,h.a.createElement("div",null,h.a.createElement(d.a,{className:t.search,label:"Keyword",InputProps:{onChange:function(e){var t=e.target.value;y(Object(n.a)(Object(n.a)({},v),{},{keywords:t}))},type:"",endAdornment:h.a.createElement(u.a,{position:"end"},h.a.createElement(w.a,null))}}),h.a.createElement(d.a,{className:t.search,label:"Line Number",InputProps:{onChange:function(e){var t=e.target.value;y(Object(n.a)(Object(n.a)({},v),{},{lineNumber:t}))},type:"",endAdornment:h.a.createElement(u.a,{position:"end"},h.a.createElement(w.a,null))}}),h.a.createElement(d.a,{className:t.search,label:"Font Size",InputProps:{onChange:function(e){var t=e.target.value;y(Object(n.a)(Object(n.a)({},v),{},{fontSize:Number(t)}))},type:""}}),h.a.createElement(d.a,{id:"datetime-local",label:"Start Time",type:"datetime-local",value:x,className:t.search,onChange:function(e){I(e.target.value)},InputLabelProps:{shrink:!0}}),h.a.createElement(d.a,{label:"End Time",type:"datetime-local",value:R,className:t.search,onChange:function(e){T(e.target.value)},InputLabelProps:{shrink:!0}}),h.a.createElement("div",{className:t.search},"Reverse:"," ",h.a.createElement(m.a,{checked:null===v||void 0===v?void 0:v.revert,onChange:function(e,t){return y(Object(n.a)(Object(n.a)({},v),{},{revert:t}))}}),h.a.createElement(c.a,{className:t.search,variant:"contained",onClick:function(){I(""),T("")}},"Reset Time"))),h.a.createElement(N.a,{height:600,theme:E,revert:null===v||void 0===v?void 0:v.revert,keywords:null===v||void 0===v?void 0:v.keywords,focusLine:Number(null===v||void 0===v?void 0:v.lineNumber)||void 0,fontSize:(null===v||void 0===v?void 0:v.fontSize)||12,content:i,language:"prolog",startTime:x,endTime:R})),"Loading..."===i&&h.a.createElement("div",null,h.a.createElement("br",null),h.a.createElement(k,null)))))}}}]);
//# sourceMappingURL=8.8d662150.chunk.js.map