(this["webpackJsonpray-dashboard-client"]=this["webpackJsonpray-dashboard-client"]||[]).push([[13],{255:function(e,t,n){"use strict";var a=n(223),r=n(180),i=n(0),c=n.n(i),o=Object(a.a)((function(e){return{card:{padding:e.spacing(2),paddingTop:e.spacing(1.5),margin:[e.spacing(2),e.spacing(1)].map((function(e){return"".concat(e,"px")})).join(" ")},title:{fontSize:e.typography.fontSize+2,fontWeight:500,color:e.palette.text.secondary,marginBottom:e.spacing(1)},body:{padding:e.spacing(.5)}}}));t.a=function(e){var t=e.title,n=e.children,a=o();return c.a.createElement(r.a,{className:a.card},c.a.createElement("div",{className:a.title},t),c.a.createElement("div",{className:a.body},n))}},258:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return h}));var a=n(223),r=n(240),i=n(285),c=n(234),o=n(286),s=n(0),u=n.n(s),l=Object(a.a)((function(e){return{search:{margin:e.spacing(1),marginTop:0}}})),d=function(e){var t=e.label,n=e.onChange,a=e.defaultValue,c=l();return u.a.createElement(r.a,{className:c.search,size:"small",label:t,InputProps:{onChange:function(e){var t=e.target.value;n&&n(t)},defaultValue:a,endAdornment:u.a.createElement(i.a,{position:"end"},u.a.createElement(o.a,null))}})},h=function(e){var t=e.label,n=e.onChange,a=e.options,i=l();return u.a.createElement(r.a,{className:i.search,size:"small",label:t,select:!0,SelectProps:{onChange:function(e){var t=e.target.value;n&&n(t)},style:{width:100}}},u.a.createElement(c.a,{value:""},"All"),a.map((function(e){return"string"===typeof e?u.a.createElement(c.a,{value:e},e):u.a.createElement(c.a,{value:e[0]},e[1])})))}},263:function(e,t,n){e.exports=function(){"use strict";var e="millisecond",t="second",n="minute",a="hour",r="day",i="week",c="month",o="quarter",s="year",u="date",l=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,d=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,h={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},f=function(e,t,n){var a=String(e);return!a||a.length>=t?e:""+Array(t+1-a.length).join(n)+e},m={s:f,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),a=Math.floor(n/60),r=n%60;return(t<=0?"+":"-")+f(a,2,"0")+":"+f(r,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var a=12*(n.year()-t.year())+(n.month()-t.month()),r=t.clone().add(a,c),i=n-r<0,o=t.clone().add(a+(i?-1:1),c);return+(-(a+(n-r)/(i?r-o:o-r))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(l){return{M:c,y:s,w:i,d:r,D:u,h:a,m:n,s:t,ms:e,Q:o}[l]||String(l||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},p="en",g={};g[p]=h;var b=function(e){return e instanceof O},$=function(e,t,n){var a;if(!e)return p;if("string"==typeof e)g[e]&&(a=e),t&&(g[e]=t,a=e);else{var r=e.name;g[r]=e,a=r}return!n&&a&&(p=a),a||!n&&p},y=function(e,t){if(b(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new O(n)},v=m;v.l=$,v.i=b,v.w=function(e,t){return y(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var O=function(){function h(e){this.$L=$(e.locale,null,!0),this.parse(e)}var f=h.prototype;return f.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(v.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var a=t.match(l);if(a){var r=a[2]-1||0,i=(a[7]||"0").substring(0,3);return n?new Date(Date.UTC(a[1],r,a[3]||1,a[4]||0,a[5]||0,a[6]||0,i)):new Date(a[1],r,a[3]||1,a[4]||0,a[5]||0,a[6]||0,i)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},f.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},f.$utils=function(){return v},f.isValid=function(){return!("Invalid Date"===this.$d.toString())},f.isSame=function(e,t){var n=y(e);return this.startOf(t)<=n&&n<=this.endOf(t)},f.isAfter=function(e,t){return y(e)<this.startOf(t)},f.isBefore=function(e,t){return this.endOf(t)<y(e)},f.$g=function(e,t,n){return v.u(e)?this[t]:this.set(n,e)},f.unix=function(){return Math.floor(this.valueOf()/1e3)},f.valueOf=function(){return this.$d.getTime()},f.startOf=function(e,o){var l=this,d=!!v.u(o)||o,h=v.p(e),f=function(e,t){var n=v.w(l.$u?Date.UTC(l.$y,t,e):new Date(l.$y,t,e),l);return d?n:n.endOf(r)},m=function(e,t){return v.w(l.toDate()[e].apply(l.toDate("s"),(d?[0,0,0,0]:[23,59,59,999]).slice(t)),l)},p=this.$W,g=this.$M,b=this.$D,$="set"+(this.$u?"UTC":"");switch(h){case s:return d?f(1,0):f(31,11);case c:return d?f(1,g):f(0,g+1);case i:var y=this.$locale().weekStart||0,O=(p<y?p+7:p)-y;return f(d?b-O:b+(6-O),g);case r:case u:return m($+"Hours",0);case a:return m($+"Minutes",1);case n:return m($+"Seconds",2);case t:return m($+"Milliseconds",3);default:return this.clone()}},f.endOf=function(e){return this.startOf(e,!1)},f.$set=function(i,o){var l,d=v.p(i),h="set"+(this.$u?"UTC":""),f=(l={},l[r]=h+"Date",l[u]=h+"Date",l[c]=h+"Month",l[s]=h+"FullYear",l[a]=h+"Hours",l[n]=h+"Minutes",l[t]=h+"Seconds",l[e]=h+"Milliseconds",l)[d],m=d===r?this.$D+(o-this.$W):o;if(d===c||d===s){var p=this.clone().set(u,1);p.$d[f](m),p.init(),this.$d=p.set(u,Math.min(this.$D,p.daysInMonth())).$d}else f&&this.$d[f](m);return this.init(),this},f.set=function(e,t){return this.clone().$set(e,t)},f.get=function(e){return this[v.p(e)]()},f.add=function(e,o){var u,l=this;e=Number(e);var d=v.p(o),h=function(t){var n=y(l);return v.w(n.date(n.date()+Math.round(t*e)),l)};if(d===c)return this.set(c,this.$M+e);if(d===s)return this.set(s,this.$y+e);if(d===r)return h(1);if(d===i)return h(7);var f=(u={},u[n]=6e4,u[a]=36e5,u[t]=1e3,u)[d]||1,m=this.$d.getTime()+e*f;return v.w(m,this)},f.subtract=function(e,t){return this.add(-1*e,t)},f.format=function(e){var t=this;if(!this.isValid())return"Invalid Date";var n=e||"YYYY-MM-DDTHH:mm:ssZ",a=v.z(this),r=this.$locale(),i=this.$H,c=this.$m,o=this.$M,s=r.weekdays,u=r.months,l=function(e,a,r,i){return e&&(e[a]||e(t,n))||r[a].substr(0,i)},h=function(e){return v.s(i%12||12,e,"0")},f=r.meridiem||function(e,t,n){var a=e<12?"AM":"PM";return n?a.toLowerCase():a},m={YY:String(this.$y).slice(-2),YYYY:this.$y,M:o+1,MM:v.s(o+1,2,"0"),MMM:l(r.monthsShort,o,u,3),MMMM:l(u,o),D:this.$D,DD:v.s(this.$D,2,"0"),d:String(this.$W),dd:l(r.weekdaysMin,this.$W,s,2),ddd:l(r.weekdaysShort,this.$W,s,3),dddd:s[this.$W],H:String(i),HH:v.s(i,2,"0"),h:h(1),hh:h(2),a:f(i,c,!0),A:f(i,c,!1),m:String(c),mm:v.s(c,2,"0"),s:String(this.$s),ss:v.s(this.$s,2,"0"),SSS:v.s(this.$ms,3,"0"),Z:a};return n.replace(d,(function(e,t){return t||m[e]||a.replace(":","")}))},f.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},f.diff=function(e,u,l){var d,h=v.p(u),f=y(e),m=6e4*(f.utcOffset()-this.utcOffset()),p=this-f,g=v.m(this,f);return g=(d={},d[s]=g/12,d[c]=g,d[o]=g/3,d[i]=(p-m)/6048e5,d[r]=(p-m)/864e5,d[a]=p/36e5,d[n]=p/6e4,d[t]=p/1e3,d)[h]||p,l?g:v.a(g)},f.daysInMonth=function(){return this.endOf(c).$D},f.$locale=function(){return g[this.$L]},f.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),a=$(e,t,!0);return a&&(n.$L=a),n},f.clone=function(){return v.w(this.$d,this)},f.toDate=function(){return new Date(this.valueOf())},f.toJSON=function(){return this.isValid()?this.toISOString():null},f.toISOString=function(){return this.$d.toISOString()},f.toString=function(){return this.$d.toUTCString()},h}(),S=O.prototype;return y.prototype=S,[["$ms",e],["$s",t],["$m",n],["$H",a],["$W",r],["$M",c],["$y",s],["$D",u]].forEach((function(e){S[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),y.extend=function(e,t){return e.$i||(e(t,O,y),e.$i=!0),y},y.locale=$,y.isDayjs=b,y.unix=function(e){return y(1e3*e)},y.en=g[p],y.Ls=g,y.p={},y}()},268:function(e,t,n){"use strict";var a=n(189),r=n(232),i=n(0),c=n.n(i);t.a=function(e){var t=e.loading;return c.a.createElement(a.a,{open:t,style:{zIndex:100}},c.a.createElement(r.a,{color:"primary"}))}},272:function(e,t,n){"use strict";var a=n(1),r=n(2),i=n(0),c=(n(5),n(3)),o=n(4),s=n(13),u=n(7),l=n(90),d=i.forwardRef((function(e,t){var n=e.classes,o=e.className,s=e.color,d=void 0===s?"secondary":s,h=e.edge,f=void 0!==h&&h,m=e.size,p=void 0===m?"medium":m,g=Object(r.a)(e,["classes","className","color","edge","size"]),b=i.createElement("span",{className:n.thumb});return i.createElement("span",{className:Object(c.a)(n.root,o,{start:n.edgeStart,end:n.edgeEnd}[f],"small"===p&&n["size".concat(Object(u.a)(p))])},i.createElement(l.a,Object(a.a)({type:"checkbox",icon:b,checkedIcon:b,classes:{root:Object(c.a)(n.switchBase,n["color".concat(Object(u.a)(d))]),input:n.input,checked:n.checked,disabled:n.disabled},ref:t},g)),i.createElement("span",{className:n.track}))}));t.a=Object(o.a)((function(e){return{root:{display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"}},edgeStart:{marginLeft:-8},edgeEnd:{marginRight:-8},switchBase:{position:"absolute",top:0,left:0,zIndex:1,color:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[400],transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),"&$checked":{transform:"translateX(20px)"},"&$disabled":{color:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[800]},"&$checked + $track":{opacity:.5},"&$disabled + $track":{opacity:"light"===e.palette.type?.12:.1}},colorPrimary:{"&$checked":{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(s.c)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[800]},"&$checked + $track":{backgroundColor:e.palette.primary.main},"&$disabled + $track":{backgroundColor:"light"===e.palette.type?e.palette.common.black:e.palette.common.white}},colorSecondary:{"&$checked":{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(s.c)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[800]},"&$checked + $track":{backgroundColor:e.palette.secondary.main},"&$disabled + $track":{backgroundColor:"light"===e.palette.type?e.palette.common.black:e.palette.common.white}},sizeSmall:{width:40,height:24,padding:7,"& $thumb":{width:16,height:16},"& $switchBase":{padding:4,"&$checked":{transform:"translateX(16px)"}}},checked:{},disabled:{},input:{left:"-100%",width:"300%"},thumb:{boxShadow:e.shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"},track:{height:"100%",width:"100%",borderRadius:7,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:"light"===e.palette.type?e.palette.common.black:e.palette.common.white,opacity:"light"===e.palette.type?.38:.3}}}),{name:"MuiSwitch"})(d)},278:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));var a=n(53),r=function(){return Object(a.b)("jobs?view=summary")},i=function(e){return Object(a.b)("jobs/".concat(e))}},520:function(e,t,n){"use strict";n.r(t);var a=n(272),r=n(287),i=n(230),c=n(228),o=n(229),s=n(227),u=n(231),l=n(223),d=n(513),h=n(263),f=n.n(h),m=n(0),p=n.n(m),g=n(81),b=n(268),$=n(258),y=n(255),v=n(8),O=n(29),S=n(12),k=n.n(S),w=n(17),M=n(38),j=n(6),D=n(278),E=Object(l.a)((function(e){return{root:{padding:e.spacing(2),width:"100%"}}})),C=["ID","DriverIpAddress","DriverPid","IsDead","Timestamp"];t.default=function(){var e=E(),t=function(){var e=Object(m.useState)([]),t=Object(j.a)(e,2),n=t[0],a=t[1],r=Object(m.useState)({pageSize:10,pageNo:1}),i=Object(j.a)(r,2),c=i[0],o=i[1],s=Object(m.useState)("Loading the job list..."),u=Object(j.a)(s,2),l=u[0],d=u[1],h=Object(m.useState)(!0),f=Object(j.a)(h,2),p=f[0],g=f[1],b=Object(m.useState)([]),$=Object(j.a)(b,2),y=$[0],S=$[1],E=Object(m.useRef)(p),C=Object(m.useRef)();E.current=p;var x=Object(m.useCallback)(Object(w.a)(k.a.mark((function e(){var t,n,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(E.current){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Object(D.b)();case 4:(null===(r=e.sent)||void 0===r||null===(t=r.data)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.summary)&&(a(r.data.data.summary.sort((function(e,t){return t.timestamp-e.timestamp}))),d(r.data.msg||"")),C.current=setTimeout(x,4e3);case 7:case"end":return e.stop()}}),e)}))),[]);return Object(m.useEffect)((function(){return x(),function(){C.current&&clearTimeout(C.current)}}),[x]),{jobList:n.filter((function(e){return y.every((function(t){return e[t.key]&&e[t.key].includes(t.val)}))})),msg:l,isRefreshing:p,onSwitchChange:function(e){g(e.target.checked)},changeFilter:function(e,t){var n=y.find((function(t){return t.key===e}));n?n.val=t:y.push({key:e,val:t}),S(Object(M.a)(y))},page:c,originalJobs:n,setPage:function(e,t){return o(Object(O.a)(Object(O.a)({},c),{},Object(v.a)({},e,t)))}}}(),n=t.msg,l=t.isRefreshing,h=t.onSwitchChange,S=t.jobList,x=t.changeFilter,N=t.page,z=t.setPage;return p.a.createElement("div",{className:e.root},p.a.createElement(b.a,{loading:n.startsWith("Loading")}),p.a.createElement(y.a,{title:"JOBS"},"Auto Refresh:",p.a.createElement(a.a,{checked:l,onChange:h,name:"refresh",inputProps:{"aria-label":"secondary checkbox"}}),p.a.createElement("br",null),"Request Status: ",n),p.a.createElement(y.a,{title:"Job List"},p.a.createElement(r.a,null,p.a.createElement($.a,{label:"ID",onChange:function(e){return x("jobId",e)}}),p.a.createElement($.b,{label:"Language",onChange:function(e){return x("language",e)},options:["JAVA","PYTHON"]}),p.a.createElement($.a,{label:"Page Size",onChange:function(e){return z("pageSize",Math.min(Number(e),500)||10)}}),p.a.createElement("div",null,p.a.createElement(d.a,{count:Math.ceil(S.length/N.pageSize),page:N.pageNo,onChange:function(e,t){return z("pageNo",t)}})),p.a.createElement(i.a,null,p.a.createElement(c.a,null,p.a.createElement(o.a,null,C.map((function(e){return p.a.createElement(s.a,{align:"center",key:e},e)})))),p.a.createElement(u.a,null,S.slice((N.pageNo-1)*N.pageSize,N.pageNo*N.pageSize).map((function(e){var t=e.jobId,n=void 0===t?"":t,a=e.driverIpAddress,r=e.isDead,i=e.driverPid,c=e.timestamp;return p.a.createElement(o.a,{key:n},p.a.createElement(s.a,{align:"center"},p.a.createElement(g.b,{to:"/job/".concat(n)},n)),p.a.createElement(s.a,{align:"center"},a),p.a.createElement(s.a,{align:"center"},i),p.a.createElement(s.a,{align:"center"},r?"true":"false"),p.a.createElement(s.a,{align:"center"},f()(1e3*c).format("YYYY/MM/DD HH:mm:ss")))})))))))}}}]);
//# sourceMappingURL=13.e725d7a4.chunk.js.map