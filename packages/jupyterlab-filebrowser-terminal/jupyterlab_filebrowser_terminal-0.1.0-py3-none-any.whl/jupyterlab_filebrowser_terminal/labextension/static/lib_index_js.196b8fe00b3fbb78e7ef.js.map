{"version":3,"file":"lib_index_js.196b8fe00b3fbb78e7ef.js","mappings":";;;;;;;;;;;;;;;;;AAA8D;AACC;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,wEAAmB;AAClC,eAAe,yEAAgB;AAC/B;AACA;AACA;AACA,gBAAgB,UAAU;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,KAAK;AACjD,yBAAyB;AACzB,qBAAqB;AACrB,iBAAiB;AACjB;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,iEAAe,MAAM,EAAC","sources":["webpack://jupyterlab-filebrowser-terminal/./lib/index.js"],"sourcesContent":["import { IFileBrowserFactory } from '@jupyterlab/filebrowser';\nimport { ISettingRegistry } from '@jupyterlab/settingregistry';\n/**\n * Initialization data for the jupyterlab-filebrowser-terminal extension.\n */\nconst plugin = {\n    id: 'jupyterlab-filebrowser-terminal:plugin',\n    autoStart: true,\n    requires: [IFileBrowserFactory],\n    optional: [ISettingRegistry],\n    activate: (app, fileBrowserFactory, settingRegistry) => {\n        console.log('JupyterLab extension jupyterlab-filebrowser-terminal is activated!');\n        // Get filebrowser tracker\n        const { tracker } = fileBrowserFactory;\n        // Get current filebrowser path\n        function getCurrentPath() {\n            const widget = tracker.currentWidget;\n            return widget.model.path;\n        }\n        // Add an application command\n        const command = 'filebrowser:open-in-terminal';\n        app.commands.addCommand(command, {\n            label: 'Open in Terminal',\n            execute: () => {\n                app.commands\n                    .execute('terminal:create-new')\n                    .then((widget) => {\n                    const terminal = widget.content;\n                    const session = terminal.session;\n                    const path = getCurrentPath();\n                    session.connectionStatusChanged.connect((_, change) => {\n                        if (change !== 'connected') {\n                            console.log(change);\n                            return;\n                        }\n                        session.send({\n                            type: 'stdin',\n                            content: [`cd ${path}\\r`]\n                        });\n                    });\n                });\n            }\n        });\n        app.contextMenu.addItem({\n            command: command,\n            selector: '.jp-DirListing-content'\n        });\n    }\n};\nexport default plugin;\n"],"names":[],"sourceRoot":""}