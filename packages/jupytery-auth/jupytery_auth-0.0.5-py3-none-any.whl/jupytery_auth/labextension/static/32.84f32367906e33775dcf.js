(self.webpackChunk_datalayer_jupyter_auth=self.webpackChunk_datalayer_jupyter_auth||[]).push([[32],{32:(e,t,r)=>{"use strict";r.r(t),r.d(t,{JupyterAuth:()=>E,JupyterUsers:()=>w,default:()=>k});var n=r(79),a=r(351),o=r(572);async function s(e="",t={}){const r=o.ServerConnection.makeSettings(),n=a.URLExt.join(r.baseUrl,"jupytery_auth",e);let s;try{s=await o.ServerConnection.makeRequest(n,t,r)}catch(e){throw new o.ServerConnection.NetworkError(e)}let i=await s.text();if(i.length>0)try{i=JSON.parse(i)}catch(e){console.log("Not a JSON response body.",s)}if(!s.ok)throw new o.ServerConnection.ResponseError(s,i.message||i);return i}var i=r(271),c=r.n(i),l=r(567);const u=e=>{const t=e.users.users;return c().createElement(c().Fragment,null,t.map((e=>c().createElement("div",{key:e.login},c().createElement("a",{href:`https://github.com/${e.login}`,target:"_blank"},c().createElement("img",{src:e.avatar_url,style:{width:"100px"}}),c().createElement("div",null,e.name),c().createElement("div",{className:"jp-Auth-username"},"@",e.login),e.bio&&c().createElement("div",{className:"jp-Auth-bio"},"Bio: ",e.bio)),c().createElement("hr",null)))))};class p extends l.ReactWidget{constructor(){super(),this.users=[],this.addClass("jp-Auth-Widget")}render(){return c().createElement(u,{users:this.users})}setUsers(e){this.users=e,this.update()}}const h=p;r(186);const d=new n.LabIcon({name:"auth:users",svgstr:'<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"/></svg>'}),m={id:"@datalayer-jupyter/auth",autoStart:!0,activate:e=>{const t=new h;t.id="@datalayer-jupyter/auth",t.title.icon=d,e.shell.add(t,"left",{rank:300}),function(e,t){s("users").then((e=>{console.log("Got a response from the jupytery_auth server API",e),t.setUsers(e),window.juser=e})).catch((e=>{console.log("The jupytery_auth server API appears to be missing",e)}))}(0,t)}};var v=r(774),g=r(812),f=r(247),y=r(400),b=r(483);const j=(0,v.ZP)(y.Z)((({theme:e})=>({"& .MuiBadge-badge":{backgroundColor:"#44b700",color:"#44b700",boxShadow:`0 0 0 2px ${e.palette.background.paper}`,"&::after":{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",animation:"ripple 1.2s infinite ease-in-out",border:"1px solid currentColor",content:'""'}},"@keyframes ripple":{"0%":{transform:"scale(.8)",opacity:1},"100%":{transform:"scale(2.4)",opacity:0}}}))),w=()=>{const[e,t]=(0,i.useState)([]);return(0,i.useEffect)((()=>{const e=()=>s("users").then((e=>e)).catch((e=>{console.log("The jupytery_auth server API appears to be failing",e)})).then((e=>{t(e.users)}));e(),setInterval((async()=>{e()}),5e3)}),[]),c().createElement(b.Z,{direction:"row",spacing:2},c().createElement(f.Z,{max:4},e.map((e=>c().createElement(j,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"dot"},c().createElement(g.Z,{alt:e.login,src:e.avatar_url}))))))},E=()=>c().createElement(w,null),k=[m]},599:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(609),a=r.n(n)()((function(e){return e[1]}));a.push([e.id,".jp-Auth-Widget {\n  padding: 10px;\n  overflow-y: auto !important;\n  color: var(--jp-ui-font-color1);\n  background: var(--jp-layout-color1);\n  font-size: var(--jp-ui-font-size3);\n  display: flex;\n  text-align: center;\n  justify-content: center;\n}\n\n.jp-Auth-username {\n  color: var(--jp-ui-font-color1);\n  font-size: var(--jp-ui-font-size1)\n}\n\n.jp-Auth-bio {\n  color: var(--jp-ui-font-color3);\n  font-size: var(--jp-ui-font-size1)\n}\n",""]);const o=a},186:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var n=r(62),a=r.n(n),o=r(599);a()(o.Z,{insert:"head",singleton:!1});const s=o.Z.locals||{}}}]);