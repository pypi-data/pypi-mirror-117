#!/usr/bin/env python3
# This file is placed in the Public Domain.

import os, sys ; sys.path.insert(0, os.getcwd())

import os
import sys
import termios
import time

wd = "/var/lib/botd/"

from obj.run import Runtime
from obj.tbl import Table
from obj.trc import get_exception


class Kernel(Runtime):

    def error(self, txt):
        print(txt)
        sys.stdout.flush()
        
    def log(self, txt):
        pass


k = Kernel()
t = Table()


import bot.all
import botd.all


def main():
    k.boot()
    t.scan("bot,botd")
    k.start()
    k.init("bot.irc,bot.rss")
    k.wait()

main()
